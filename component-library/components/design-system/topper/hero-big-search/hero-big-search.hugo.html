{{ $topper := . }}
{{ $backgroundColor := "" }}
{{ $image := "" }}
{{ $alt := "" }}
{{ $backgroundColor := "bg-dark" }}
{{ $textColor := "text-white" }}
{{ $layerStyles := "" }}
{{ $sectionMargin := "" }}
{{ $headingColor := "" }}

{{ if $topper.styles.section.background_c }}{{ $backgroundColor = $topper.styles.section.background_c }}{{ end }}
{{ if $topper.styles.section.text_c }}{{ $textColor = $topper.styles.section.text_c }}{{ end }}
{{ if $topper.background_image }}{{ $image = $topper.background_image }}{{ end }}
{{ if $topper.alt_text }}{{ $alt = $topper.alt_text }}{{ end }}
{{ if $topper.styles.background_layers }}{{ $layerStyles = $topper.styles.background_layers }}{{ end }}
{{ if $topper.styles.heading.c }}{{ $headingColor = $topper.styles.heading.c }}{{ end }}

<header id="big-search-1" aria-labelledby="big-search-1-label" class="{{ partial "bookshop_partial" (slice "section_margin" $sectionMargin) }} text-center {{ $backgroundColor }} {{ $textColor }} position-relative">
  {{ partial "bookshop_partial" (slice "section_background" (dict "image" $image "alt" $alt "layerStyles" $layerStyles)) }}
  <div class="container wvu-z-index-content py-7">
    <div class="row">
      <div class="col-xl-16 mx-xl-auto">
        {{ if .topper.heading }}
          <h1 class="wvu-shout wvu-text-letter-spacing-lg mb-6">{{ .title }}</h1>
        {{ end }}
        <h2 id="big-search-1-label" class="display-5 oliviar-black {{ $headingColor }} text-uppercase mb-3">{{ if .topper.heading }}{{ .topper.heading  }}{{ else }}{{ .title }}{{ end }}</h2>
        <p class="helvetica-neue-light h3 mb-0">{{ .topper.subheading }}</p>
      </div>
    </div>
    <div class="row d-flex justify-content-center my-2">
      <div class="col-md-12 mx-auto">
        <div class="row mb-4">
          <div class="col-md-24">
            <form class="form-inline w-100" action="https://search.wvu.edu/search" method="get" role="search">
              <input id="big-search-query" type="hidden" name="q" value="site:designsystem.wvu.edu">
              <input id="big-search-sort" name="sort" type="hidden" value="date:D:L:d1">
              <input id="big-search-output" name="output" type="hidden" value="xml_no_dtd">
              <input id="big-search-ie" name="ie" type="hidden" value="UTF-8">
              <input id="big-search-oe" name="oe" type="hidden" value="UTF-8">
              <input id="big-search-proxystylesheet" name="proxystylesheet" type="hidden" value="default_frontend">
              <input id="big-search-client" name="client" type="hidden" value="default_frontend">
              <label id="big-search-label" for="big-search-input">
                <span class="visually-hidden">Search</span>
              </label>
              <div class="input-group shadow-sm w-100">
                <input id="big-search-input" class="form-control p-4 h1 mb-0" name="q" type="search" placeholder="Type in your search term.">
                <button class="btn btn-primary px-4 px-lg-5" name="btnG" type="submit">
                  <span class="d-block">
                    <span class="h3 mb-0 fa-solid fa-magnifying-glass" aria-hidden="true"></span>
                  </span>
                  <span class="visually-hidden">Search</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>      
    <p class="mb-0">Not sure what to search for? Browse our 
      <a class="text-wvu-blue" href="#">categories</a>.
    </p>  
  </div>
</header>